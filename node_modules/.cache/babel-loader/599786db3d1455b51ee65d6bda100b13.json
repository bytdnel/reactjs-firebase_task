{"ast":null,"code":"var _jsxFileName = \"/Users/danielbyta/Documents/work/sezam-auth/src/components/TodoAdd/index.js\";\nimport React, { Component } from 'react';\nimport { compose } from 'recompose';\nimport { UserUid } from '../Firebase/firebase';\nimport { withFirebase } from '../Firebase';\nconst INITIAL_STATE = {\n  todo: '',\n  error: null\n};\n\nclass TodoAddBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = event => {\n      event.preventDefault();\n      const createdAt = new Date();\n      const {\n        todo_\n      } = this.state;\n      console.log({\n        UserUid,\n        todo,\n        createdAt\n      });\n      this.props.firebase.doAddTodo(todo, UserUid);\n      this.setState({ ...INITIAL_STATE\n      });\n    };\n\n    this.onChange = event => this.setState({\n      [event.target.name]: event.target.value\n    });\n\n    this.state = { ...INITIAL_STATE\n    };\n  }\n\n  render() {\n    const {\n      todo,\n      error\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }\n    }, \"\\u0417\\u0434\\u0435\\u0441\\u044C \\u043C\\u043E\\u0436\\u043D\\u043E \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0432 \\u0431\\u0430\\u0437\\u0443 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \"), !UserUid ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }, \"\\u041F\\u0435\\u0440\\u0435\\u043C\\u0435\\u043D\\u043D\\u0430\\u044F UserUid \\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u0441\\u044F \\u043B\\u043E\\u043A\\u0430\\u043B\\u044C\\u043D\\u043E \\u0438 \\u0441\\u0435\\u0439\\u0447\\u0430\\u0441 \\u043D\\u0435 \\u043E\\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u0435\\u043D\\u0430. \\u041D\\u0443\\u0436\\u043D\\u043E \\u0440\\u0435\\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F, \\u0447\\u0442\\u043E\\u0431\\u044B \\u0432\\u0441\\u0435 \\u0440\\u0430\\u0431\\u043E\\u0442\\u0430\\u043B\\u043E. \\u042D\\u0442\\u043E \\u0441\\u043E\\u0437\\u043D\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u044B\\u0439 \\u0431\\u0430\\u0433, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043D\\u0435 \\u0443\\u0441\\u043B\\u043E\\u0436\\u043D\\u044F\\u0442\\u044C \\u0437\\u0430\\u0434\\u0430\\u043D\\u0438\\u0435.\") : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }\n    }, \"\\u041D\\u0435 \\u043E\\u0431\\u043D\\u043E\\u0432\\u043B\\u044F\\u0439\\u0442\\u0435 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443, \\u0438\\u043D\\u0430\\u0447\\u0435 \\u0441\\u043B\\u043E\\u0432\\u0438\\u0442\\u0435 \\u0431\\u0430\\u0433 :)\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"todo\",\n      value: todo,\n      onChange: this.onChange,\n      placeholder: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0434\\u0435\\u043B\\u043E\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\")), error && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 27\n      }\n    }, error.message));\n  }\n\n}\n\nconst TodoAdd = compose(withFirebase)(TodoAddBase);\nexport default TodoAdd;","map":{"version":3,"sources":["/Users/danielbyta/Documents/work/sezam-auth/src/components/TodoAdd/index.js"],"names":["React","Component","compose","UserUid","withFirebase","INITIAL_STATE","todo","error","TodoAddBase","constructor","props","onSubmit","event","preventDefault","createdAt","Date","todo_","state","console","log","firebase","doAddTodo","setState","onChange","target","name","value","render","message","TodoAdd"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,SAASC,YAAT,QAA6B,aAA7B;AAEA,MAAMC,aAAa,GAAG;AAClBC,EAAAA,IAAI,EAAE,EADY;AAElBC,EAAAA,KAAK,EAAE;AAFW,CAAtB;;AAKA,MAAMC,WAAN,SAA0BP,SAA1B,CAAoC;AAChCQ,EAAAA,WAAW,CAAEC,KAAF,EAAS;AAChB,UAAMA,KAAN;;AADgB,SAIpBC,QAJoB,GAITC,KAAK,IAAI;AAChBA,MAAAA,KAAK,CAACC,cAAN;AACA,YAAMC,SAAS,GAAG,IAAIC,IAAJ,EAAlB;AACA,YAAM;AAAEC,QAAAA;AAAF,UAAY,KAAKC,KAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY;AAAChB,QAAAA,OAAD;AAAUG,QAAAA,IAAV;AAAgBQ,QAAAA;AAAhB,OAAZ;AACA,WAAKJ,KAAL,CAAWU,QAAX,CAAoBC,SAApB,CAA8Bf,IAA9B,EAAoCH,OAApC;AACA,WAAKmB,QAAL,CAAc,EAAE,GAAGjB;AAAL,OAAd;AACH,KAXmB;;AAAA,SAapBkB,QAboB,GAaTX,KAAK,IAAI,KAAKU,QAAL,CAAc;AAAE,OAACV,KAAK,CAACY,MAAN,CAAaC,IAAd,GAAqBb,KAAK,CAACY,MAAN,CAAaE;AAApC,KAAd,CAbA;;AAEhB,SAAKT,KAAL,GAAa,EAAE,GAAGZ;AAAL,KAAb;AACH;;AAYDsB,EAAAA,MAAM,GAAG;AACL,UAAM;AACFrB,MAAAA,IADE;AAEFC,MAAAA;AAFE,QAGF,KAAKU,KAHT;AAIA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kQADJ,EAEQ,CAACd,OAAD,gBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2wBADA,gBAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qOANR,eAQI;AAAM,MAAA,QAAQ,EAAE,KAAKQ,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,IAAI,EAAC,MAFT;AAGI,MAAA,KAAK,EAAIL,IAHb;AAII,MAAA,QAAQ,EAAE,KAAKiB,QAJnB;AAKI,MAAA,WAAW,EAAC,2EALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAQI;AACI,MAAA,IAAI,EAAC,QADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DARJ,CARJ,EAqBKhB,KAAK,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIA,KAAK,CAACqB,OAAV,CArBd,CADJ;AAyBH;;AA9C+B;;AAiDpC,MAAMC,OAAO,GAAG3B,OAAO,CAACE,YAAD,CAAP,CAAsBI,WAAtB,CAAhB;AAEA,eAAeqB,OAAf","sourcesContent":["import React, { Component } from 'react'\nimport { compose } from 'recompose'\nimport { UserUid } from '../Firebase/firebase'\nimport { withFirebase } from '../Firebase'\n\nconst INITIAL_STATE = {\n    todo: '',\n    error: null\n}\n\nclass TodoAddBase extends Component {\n    constructor (props) {\n        super(props)\n        this.state = { ...INITIAL_STATE }\n    }\n    onSubmit = event => {\n        event.preventDefault()\n        const createdAt = new Date()\n        const { todo_ } = this.state\n        console.log({UserUid, todo, createdAt})\n        this.props.firebase.doAddTodo(todo, UserUid)\n        this.setState({ ...INITIAL_STATE })\n    }\n\n    onChange = event => this.setState({ [event.target.name]: event.target.value })\n\n    render() {\n        const {\n            todo,\n            error\n        } = this.state\n        return(\n            <div>\n                <p>Здесь можно будет добавить данные в базу данных </p>\n                {   !UserUid ? \n                    <p>Переменная UserUid хранится локально и сейчас не определена. \n                        Нужно реавторизоваться, чтобы все работало. Это сознательный баг, чтобы не усложнять задание.\n                    </p> : \n                    <p>Не обновляйте страницу, иначе словите баг :)</p> \n                } \n                <form onSubmit={this.onSubmit}>\n                    <input \n                        type='text' \n                        name='todo'\n                        value = {todo}\n                        onChange={this.onChange}\n                        placeholder='Добавить дело'\n                    />\n                    <button\n                        type=\"submit\">\n                            Добавить\n                    </button>\n                </form>\n                {error && <p>{error.message}</p>}\n            </div>\n        )\n    }\n}\n\nconst TodoAdd = compose(withFirebase)(TodoAddBase)\n\nexport default TodoAdd"]},"metadata":{},"sourceType":"module"}